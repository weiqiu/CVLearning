SET(OUT_NAME SGMLib)
AUX_SOURCE_DIRECTORY(. SOURCE_LIST)
ADD_DEFINITIONS(${NORMAL_DEFINITION} -DNOMINMAX -DCVL_SGM_EXPORTS)

INCLUDE_DIRECTORIES(
 ${OpenCV_INCLUDE_DIRS}
 ${CVL_INCLUDE_DIR}
)

#LINK_DIRECTORIES(
# ${TOTAL_LIB_PATH}
#)
 
ADD_LIBRARY(${OUT_NAME} SHARED ${SOURCE_LIST} sgm.h sgm_impl.h)

TARGET_LINK_LIBRARIES(${OUT_NAME} 
 ${OpenCV_LIBS}
)

SET_TARGET_PROPERTIES(${OUT_NAME} PROPERTIES FOLDER	Library/Algorithm)
SET_TARGET_PROPERTIES(${OUT_NAME} PROPERTIES DEBUG_POSTFIX "d")

INSTALL(TARGETS ${OUT_NAME} RUNTIME DESTINATION bin)
INSTALL(TARGETS ${OUT_NAME} ARCHIVE DESTINATION lib)
