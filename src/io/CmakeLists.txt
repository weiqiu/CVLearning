SET(OUT_NAME CVLIOLib)
AUX_SOURCE_DIRECTORY(. SOURCE_LIST)
ADD_DEFINITIONS(${NORMAL_DEFINITION} -DNOMINMAX -DCVL_IO_Lib_EXPORTS)

find_package(OpenCV REQUIRED)

INCLUDE_DIRECTORIES(
 ${OpenCV_INCLUDE_DIRS}
 ${CVL_INCLUDE_DIR}
)

LINK_DIRECTORIES(
 ${CVL_LIB_OUT_DIR}
)

ADD_LIBRARY(${OUT_NAME} SHARED ${SOURCE_LIST} 
            image_io.h mesh_io.h)

TARGET_LINK_LIBRARIES(${OUT_NAME} 
 ${OpenCV_LIBS}
)			
			
SET_TARGET_PROPERTIES(${OUT_NAME} PROPERTIES FOLDER	Library/Common)
SET_TARGET_PROPERTIES(${OUT_NAME} PROPERTIES DEBUG_POSTFIX "d")

INSTALL(TARGETS ${OUT_NAME} RUNTIME DESTINATION bin)
INSTALL(TARGETS ${OUT_NAME} ARCHIVE DESTINATION lib)
